<!DOCTYPE html>
<html><head><meta name="GCD" content="YTk3ODQ3ZWZhN2I4NzZmMzBkNTEwYjJla3e355dfa7d2d333d2d2c5adc4e0f610"/>
  <meta charset="utf-8">
  <title>Attend-ID | Dashboard</title>
  <meta name="generator" content="Google Web Designer 5.0.4.0226">
  <meta name="template" content="Expandable 3.0.0">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="gwdpage_style.css" rel="stylesheet" data-version="12" data-exports-type="gwd-page">
  <link href="gwdpagedeck_style.css" rel="stylesheet" data-version="12" data-exports-type="gwd-pagedeck">
  <link href="gwdimage_style.css" rel="stylesheet" data-version="12" data-exports-type="gwd-image">
  <style type="text/css" id="gwd-lightbox-style">.gwd-lightbox {
    overflow: hidden;
}</style>
  <style type="text/css" id="gwd-text-style">p {
    margin: 0px;
}
h1 {
    margin: 0px;
}
h2 {
    margin: 0px;
}
h3 {
    margin: 0px;
}</style>
  <style type="text/css">html,
body {
    width: 100%;
    height: 100%;
    margin: 0px;
}
.gwd-page-container {
    position: relative;
    width: 100%;
    height: 100%;
}
.gwd-page-content {
    background-color: transparent;
    transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
    -webkit-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
    -moz-transform: matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
    perspective: 1400px;
    -webkit-perspective: 1400px;
    -moz-perspective: 1400px;
    transform-style: preserve-3d;
    -webkit-transform-style: preserve-3d;
    -moz-transform-style: preserve-3d;
    position: absolute;
}
.gwd-page-wrapper {
    background-color: rgb(255, 255, 255);
    position: absolute;
    transform: translateZ(0px);
    -webkit-transform: translateZ(0px);
    -moz-transform: translateZ(0px);
}
.page1-content {
    width: 550px;
    height: 400px;
}
.gwd-div-1kcd {
    position: absolute;
    width: 100%;
    border-image-source: none;
    border-image-width: 1;
    border-image-outset: 0;
    border-image-repeat: stretch;
    border-color: transparent;
    background-image: none;
    background-color: rgb(11, 27, 39);
    transform-origin: 275px 39.5574px 0px;
    -webkit-transform-origin: 275px 39.5574px 0px;
    -moz-transform-origin: 275px 39.5574px 0px;
    height: 19.75%;
    left: 0%;
    top: 0%;
}
.gwd-div-1y3r {
    position: absolute;
    background-image: none;
    background-color: rgb(245, 245, 245);
    border-style: solid;
    border-image-source: -webkit-linear-gradient(0deg, rgb(99, 104, 107) 4%, rgb(238, 241, 243) 100%);
    border-image-source: -moz-linear-gradient(0deg, rgb(99, 104, 107) 4%, rgb(238, 241, 243) 100%);
    border-image-source: linear-gradient(90deg, rgb(99, 104, 107) 4%, rgb(238, 241, 243) 100%);
    border-image-slice: 0%;
    border-width: 0px;
    left: 4%;
    top: 75.95%;
    width: 90.18%;
    height: 40.51%;
    transform-origin: 247.875px 15.9891px 0px;
    -webkit-transform-origin: 247.875px 15.9891px 0px;
    -moz-transform-origin: 247.875px 15.9891px 0px;
}
.gwd-button-boz6 {
    position: absolute;
    background-image: none;
    background-color: transparent;
    border-image-source: none;
    border-image-width: 1;
    border-image-outset: 0;
    border-image-repeat: stretch;
    border-color: transparent;
    color: rgb(255, 255, 255);
    top: 4.5%;
    width: 36.94%;
    height: 10.01%;
    left: 30%;
    font-family: "Roboto Condensed";
    font-weight: 300;
    font-size: 25px;
}
.gwd-div-zy72 {
    width: 100%;
    height: 100%;
}
.gwd-page-8s1w {
    width: 100%;
    height: 100%;
}
.gwd-button-ryhe {
    position: absolute;
    background-image: none;
    background-color: transparent;
    border-image-source: none;
    border-image-width: 1;
    border-image-outset: 0;
    border-image-repeat: stretch;
    border-color: transparent;
    color: rgb(255, 255, 255);
    font-size: 16px;
    font-style: italic;
    font-weight: bold;
    left: 0%;
    top: 4.25%;
    width: 25.07%;
    height: 41px;
    font-family: Oswald;
}
.gwd-span-1yt8 {
    position: absolute;
    background-image: none;
    background-color: transparent;
    border-image-source: none;
    border-image-width: 1;
    border-image-outset: 0;
    border-image-repeat: stretch;
    border-color: transparent;
    width: 64px;
    height: 15px;
    font-size: 15px;
    font-family: "Roboto Condensed";
    text-align: center;
    color: rgb(80, 80, 80);
    left: 3px;
    top: 37px;
}
[data-gwd-group="Group1"] .gwd-grp-rveq.gwd-image-9u72 {
    position: absolute;
    width: 26.3158px;
    height: 25.2138px;
    left: 0px;
    top: 0px;
}
[data-gwd-group="Group1"] {
    width: 26.3158px;
    height: 25.1974px;
}
.gwd-div-lqj1 {
    position: absolute;
    top: 12px;
    left: 23px;
}
.gwd-div-tlnh {
    position: absolute;
    width: 70px;
    height: 46px;
    left: 4px;
    top: -12px;
}
.gwd-div-q0ec {
    position: absolute;
    transform-origin: 245.79px 118.44px 0px;
    -webkit-transform-origin: 245.79px 118.44px 0px;
    -moz-transform-origin: 245.79px 118.44px 0px;
    border-image-source: none;
    border-image-width: 1;
    border-image-outset: 0;
    border-image-repeat: stretch;
    border-color: rgb(245, 245, 245);
    background-image: none;
    background-color: rgb(245, 245, 245);
    top: 194.94%;
    width: 485px;
    height: 298.56px;
    left: 30%;
}
.gwd-div-l2p7 {
    position: absolute;
    width: 162.105px;
    height: 25.2632px;
    top: 8.89472px;
    border-image-source: none;
    border-image-width: 1;
    border-image-outset: 0;
    border-image-repeat: stretch;
    border-color: transparent;
    font-family: "Roboto Condensed";
    font-style: normal;
    font-weight: bold;
    color: rgb(48, 48, 48);
    font-size: 23px;
    left: 34%;
}
.gwd-div-elzt {
    position: absolute;
    background-image: none;
    background-color: rgb(255, 255, 255);
    border-image-source: none;
    border-image-width: 1;
    border-image-outset: 0;
    border-image-repeat: stretch;
    border-color: rgb(255, 255, 255);
    border-radius: 5px;
    width: 84%;
    height: 55px;
    transform-origin: 231.047px 27.5001px 0px;
    -webkit-transform-origin: 231.047px 27.5001px 0px;
    -moz-transform-origin: 231.047px 27.5001px 0px;
    left: 0%;
    top: 0%;
}
.gwd-span-1pyi {
    position: absolute;
    width: 88px;
    height: 22px;
    transform-origin: 44.2105px 11.0744px 0px;
    -webkit-transform-origin: 44.2105px 11.0744px 0px;
    -moz-transform-origin: 44.2105px 11.0744px 0px;
    left: 16px;
    top: 8px;
    font-family: Oswald;
    font-weight: 500;
    font-size: 17px;
    color: rgb(64, 64, 64);
}
.gwd-page-14fl {
    width: 100%;
    height: 100%;
    background-image: none;
    background-color: transparent;
}
.gwd-div-yw9m {
    width: 100%;
    height: 100%;
}
.gwd-div-1674 {
    position: absolute;
    width: 323px;
    background-image: none;
    background-color: rgb(245, 245, 245);
    border-image: -webkit-linear-gradient(left, rgb(255, 255, 255) 0%, rgb(239, 234, 234) 100%) 0% / 1 / 0 stretch;
    border-image: -moz-linear-gradient(left, rgb(255, 255, 255) 0%, rgb(239, 234, 234) 100%) 0% / 1 / 0 stretch;
    border-image: linear-gradient(to right, rgb(255, 255, 255) 0%, rgb(239, 234, 234) 100%) 0% / 1 / 0 stretch;
    border-style: solid;
    border-width: 2px;
    top: 84px;
    height: 289px;
    transform-origin: 163.5px 146.5px 0px;
    -webkit-transform-origin: 163.5px 146.5px 0px;
    -moz-transform-origin: 163.5px 146.5px 0px;
    left: 38%;
}
.gwd-div-19ts {
    position: absolute;
    width: 254.5px;
    height: 36px;
    font-family: Oswald;
    font-weight: normal;
    color: rgb(80, 80, 80);
    font-size: 21px;
    text-align: center;
    left: 38px;
    top: 5px;
}
.gwd-input-1t0l {
    position: absolute;
    width: 283px;
    height: 33px;
    transform-origin: 143.5px 19.5px 0px;
    -webkit-transform-origin: 143.5px 19.5px 0px;
    -moz-transform-origin: 143.5px 19.5px 0px;
    border-image-source: none;
    border-image-width: 1;
    border-image-outset: 0;
    border-image-repeat: stretch;
    border-color: rgb(96, 96, 96);
    border-style: solid;
    padding-right: 0px;
    padding-left: 3px;
    border-radius: 5px;
    left: 6%;
    top: 63px;
}
.gwd-input-1m2p {
    position: absolute;
    border-image-source: none;
    border-image-width: 1;
    border-image-outset: 0;
    border-image-repeat: stretch;
    border-color: transparent;
    background-image: none;
    width: 291px;
    text-align: center;
    background-color: transparent;
    left: 6.5%;
    top: 159px;
    height: 37px;
    transform-origin: 112px 19.0606px 0px;
    -webkit-transform-origin: 112px 19.0606px 0px;
    -moz-transform-origin: 112px 19.0606px 0px;
}
.gwd-div-1e01 {
    text-align: left;
    font-size: 17px;
    font-weight: 300;
    top: 123px;
    left: 6.5%;
}
.gwd-button-1x16 {
    position: absolute;
    width: 121px;
    height: 34px;
    transform-origin: 60.5px 17px 0px;
    -webkit-transform-origin: 60.5px 17px 0px;
    -moz-transform-origin: 60.5px 17px 0px;
    background-image: none;
    background-color: rgb(245, 245, 245);
    border-image-source: none;
    border-image-width: 1;
    border-image-outset: 0;
    border-image-repeat: stretch;
    border-color: rgb(80, 80, 80);
    border-style: solid;
    font-family: "Roboto Condensed";
    font-weight: bold;
    font-size: 17px;
    left: 104px;
    top: 238px;
}
.gwd-select-ae7s {
    position: absolute;
    height: 24px;
    width: 202px;
    transform-origin: 101px 12px 0px;
    -webkit-transform-origin: 101px 12px 0px;
    -moz-transform-origin: 101px 12px 0px;
    left: 20.43%;
    top: 199px;
}
.gwd-span-1m8b {
    top: 33px;
    font-size: 13px;
    width: 440px;
    transform-origin: 221.008px 11.0625px 0px;
    -webkit-transform-origin: 221.008px 11.0625px 0px;
    -moz-transform-origin: 221.008px 11.0625px 0px;
    color: rgb(80, 80, 80);
}
.gwd-div-pk6o {
    position: absolute;
    width: 462px;
    height: 13.75%;
    left: 3%;
    top: 22.16%;
}
.gwd-div-18hs {
    width: 100.22%;
    transform-origin: 275.643px 27.5px 0px;
    -webkit-transform-origin: 275.643px 27.5px 0px;
    -moz-transform-origin: 275.643px 27.5px 0px;
}
.gwd-image-xlwd {
    position: absolute;
    height: 23px;
    width: 35px;
    transform-origin: 17.5px 11.5px 0px;
    -webkit-transform-origin: 17.5px 11.5px 0px;
    -moz-transform-origin: 17.5px 11.5px 0px;
    top: 16px;
    left: 17px;
}
.transferbtn {
    width: auto;
    border: 2px solid rgb(64, 64, 64);
    background: rgb(255, 255, 255);
    font-family: Oswald;
    font-size: 17px;
    color: rgb(64, 64, 64);
}
.gwd-button-7skr {
    position: absolute;
    left: 95px;
    width: 140px;
    background-image: none;
    background-color: transparent;
    border-image-source: none;
    border-image-width: 1;
    border-image-outset: 0;
    border-image-repeat: stretch;
    border-color: rgb(64, 64, 64);
    border-style: solid;
    font-family: Oswald;
    color: rgb(64, 64, 64);
    font-size: 14px;
    height: 40px;
    transform-origin: 70px 20px 0px;
    -webkit-transform-origin: 70px 20px 0px;
    -moz-transform-origin: 70px 20px 0px;
    top: 6px;
}</style>
  <link href="https://fonts.googleapis.com/css?family=Roboto+Condensed:300,700,regular|Oswald:regular,300,500" rel="stylesheet" type="text/css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script data-source="googbase_min.js" data-version="4" data-exports-type="googbase" src="googbase_min.js"></script>
  <script data-source="gwd_webcomponents_min.js" data-version="6" data-exports-type="gwd_webcomponents" src="gwd_webcomponents_min.js"></script>
  <script data-source="gwdpage_min.js" data-version="12" data-exports-type="gwd-page" src="gwdpage_min.js"></script>
  <script data-source="gwdpagedeck_min.js" data-version="12" data-exports-type="gwd-pagedeck" src="gwdpagedeck_min.js"></script>
  <script data-source="gwdimage_min.js" data-version="12" data-exports-type="gwd-image" src="gwdimage_min.js"></script>
  
  <script type="text/javascript" src="gwdid.min.1.0.js" gwd-gwdid-version="1.0"></script>
  <script type="text/javascript" gwd-events="support" src="gwd-events-support.1.0.js"></script>
  <script>
    $(document).ready(function() {
      document.getElementsByClassName('document-body')[0].style = "opacity:1";
      $.get("https://127.0.0.1:2018/dashboard/org/name", function(data) {
        if (data.localeCompare("ERR_BAD_SSL_CERTIFICATE") == 0) {
          alert("BAD SSL CERTIFICATE. PLEASE CHECK CERTIFICATE.")
          window.location.href = "https://127.0.0.1:2018/"
        }
        console.log(data)
        document.getElementById('org_name').value = data
        $.get("https://127.0.0.1:2018/dashboard/org/creator", function(data2) {
          document.getElementById('creator_id').value = data2
        })

      })

      //INFLATE UI
      $.get("https://127.0.0.1:2018/dashboard/org/members", function(data) {
        if ((typeof data).localeCompare("string") == 0 && data.localeCompare("ERR_BAD_SSL_CERTIFICATE") == 0) {
          alert("BAD SSL CERTIFICATE. PLEASE CHECK CERTIFICATE.")
          window.location.href = "https://127.0.0.1:2018/"
        }
        console.log(data)
        elements = ''
        for (i = 0; i < data.Members.length; i++) {
          elements += '<div style="width:100%; height:75px; padding:5px;line-height:1.5; background-color:#fff"><span style="font-family:Oswald; font-size:20; width:100%;display:block;color:#404040;">' + data.Members[i][0] + '</span><span style="font-family:Oswald; font-size:15; width:100%;display:block;color:#505050;">' + data.Members[i][1] + '</span><div style="width:100%;text-align:center;"><button target-did="' + data.Members[i][1] + '" class="transferbtn">TRANSFER</button></div></div>'
        }
        $('#member_list').html(elements)
        $('.transferbtn').on('click', function() {
          new_org_id = ""
          while (new_org_id.length == 0) {
            new_org_id = prompt("Enter OrgID of the organization to which he/she is to be transfered !").trim()
          }

          transfer_to = $(this).attr('target-did')

          $.ajax({
            url: 'https://127.0.0.1:2018/api/v1/core/orgs/tx_connector/transfer_asset',
            type: 'POST',
            data: {
              "org_name": document.getElementById('org_name').value,
              "creator_id": document.getElementById('creator_id').value,
              "new_org_id": new_org_id,
              "curr_member_id": transfer_to,
            },
            timeout: 10000000,
            success: function(data) {
              console.log(data);
              if (data.localeCompare("True") == 0) {
                alert("User has been Transfered !!")
                window.location.href = "https://127.0.0.1:2018/dashboard"
              } else {
                alert("Failed to add User. Please Try Again. ")
              }
            }
          });


        })


      })

    })
  </script>
  <script type="text/javascript" gwd-events="handlers">
    window.gwd = window.gwd || {};
    gwd.auto_New_userClick = function(event) {
      // GWD Predefined Function
      gwd.actions.gwdPagedeck.goToPage('pagedeck', 'page1_1', 'fade', 400, 'linear', 'bottom');
    };
    gwd.AddUser = function(event) {
      var formData = new FormData();
      formData.append('uname', document.getElementById('uname').value)
        // Attach file
      imgs = document.getElementById('images')
      for (i = 0; i < imgs.files.length; i++) {
        formData.append('images', imgs.files[i]);
      }
      doc = document.getElementById('select_1')
      formData.append('org_name', document.getElementById('org_name').value)
      formData.append('creator_id', document.getElementById('creator_id').value)
      alert(document.getElementById('creator_id').value)
      formData.append('can_mark_attendance', doc.options[doc.selectedIndex].value)
      $.ajax({
        url: 'https://127.0.0.1:2018/api/v1/core/orgs/tx_connector/add_new_user',
        type: 'POST',
        data: formData,
        processData: false, // tell jQuery not to process the data
        contentType: false, // tell jQuery not to set contentType
        timeout: 10000000,
        success: function(data) {
          console.log(data);
          if (data.localeCompare("True") == 0) {
            alert("User has been added to your organization.")
            window.location.href = "https://127.0.0.1:2018/dashboard"
          } else {
            alert("Failed to add User. Please Try Again. ")
          }
        }
      });
    };
    gwd.BuildFRModel = function(event) {
      $.ajax({
        url: 'https://127.0.0.1:2018/api/v1/core/orgs/tx_connector/request_model_build',
        type: 'POST',
        data: {
          "org_name": document.getElementById("org_name").value,
          "creator_id": document.getElementById("creator_id").value
        },
        timeout: 10000000,
        success: function(data) {
          console.log(data);
          if (data.localeCompare("True") == 0) {
            alert("Model has been trained !")
          } else {
            alert("Model build failed. Please try again later !")
          }
        }
      });
    };
  </script>
  <script type="text/javascript" gwd-events="registration">
    // Support code for event handling in Google Web Designer
     // This script block is auto-generated. Please do not edit!
    gwd.actions.events.registerEventHandlers = function(event) {
      gwd.actions.events.addHandler('new_user', 'click', gwd.auto_New_userClick, false);
      gwd.actions.events.addHandler('button_1', 'click', gwd.AddUser, false);
      gwd.actions.events.addHandler('train_model', 'click', gwd.BuildFRModel, false);
    };
    gwd.actions.events.deregisterEventHandlers = function(event) {
      gwd.actions.events.removeHandler('new_user', 'click', gwd.auto_New_userClick, false);
      gwd.actions.events.removeHandler('button_1', 'click', gwd.AddUser, false);
      gwd.actions.events.removeHandler('train_model', 'click', gwd.BuildFRModel, false);
    };
    document.addEventListener("DOMContentLoaded", gwd.actions.events.registerEventHandlers);
    document.addEventListener("unload", gwd.actions.events.deregisterEventHandlers);
  </script>
</head>

<body class="document-body">
  
  <input type="hidden" id="org_name" value=" ">
  <input type="hidden" id="creator_id" value=" ">
  <gwd-pagedeck class="gwd-page-container" id="pagedeck" data-gwd-offset-top="0px" data-gwd-offset-left="0px">
    <gwd-page id="page1" class="gwd-page-wrapper page1-content gwd-lightbox gwd-page-8s1w" data-gwd-width="100%" data-gwd-height="100%">
      <div class="gwd-page-content page1-content gwd-div-zy72">
        <div class="gwd-div-1kcd">
          <button class="gwd-button-boz6">Dashboard</button>
          <button class="gwd-button-ryhe">OrgName</button>
          <div class="gwd-div-q0ec" id="cont_ml">
            <div class="gwd-div-l2p7">Member List</div>
            <div class="gwd-div-pk6o" id="member_list" style="height: auto;">
            </div>
          </div>
          <div class="gwd-div-1y3r ">
            <div class="gwd-div-tlnh " id="new_user">
              <gwd-image class="gwd-image-xlwd" id="gwd-image_2" source="new-user.png"></gwd-image>
              <span class="gwd-span-1yt8 " id="new_user_clk">New User</span>
            </div>
            <button id="train_model" class="gwd-button-7skr">Train FR Model</button>
          </div>
        </div>
      </div>
    </gwd-page>
    <gwd-page id="page1_1" class="gwd-page-wrapper gwd-lightbox gwd-page-14fl" data-gwd-width="100% " data-gwd-height="100% " data-gwd-name="page2 " expanded=" ">
      <div class="gwd-page-content gwd-div-yw9m ">
        <div class="gwd-div-1674">
          <div class="gwd-div-19ts">
            Add a New User
          </div>
          <input type="text" id="uname" class="gwd-input-1t0l" placeholder="Enter name of User " name="uname">
          <div class="gwd-div-19ts gwd-div-1e01">
            Select Image of User
          </div>
          <input class="gwd-input-1m2p" type="file" id="images" placeholder="Select Image " name="images " multiple="">
          <select id="select_1" class="gwd-select-ae7s " data-gwd-name="can_mark_attendance">
            <option value="False" selected="">Can Mark Attendance ?</option>
            <option value="True">Yes</option>
            <option value="False">No</option>
          </select>
          <button id="button_1" class="gwd-button-1x16">Add User</button>
        </div>
      </div>
    </gwd-page>
  </gwd-pagedeck>
  <script type="text/javascript" id="gwd-init-code ">
    (function() {
      document.body.style.opacity = "0";
      var pageDeck = document.getElementById('pagedeck');
      /**
       * Handles the DOMContentLoaded event. The DOMContentLoaded event is
       * fired when the document has been completely loaded and parsed.
       */

      function handleDomContentLoaded(event) {}

      /**
       * Handles the WebComponentsReady event. This event is fired when all
       * custom elements have been registered and upgraded.
       */
      function handleWebComponentsReady(event) {
        document.body.style.opacity = "";
        setTimeout(function() {
          pageDeck.goToPage(pageDeck.getDefaultPage().id);
        }, 0);
      }

      window.addEventListener('DOMContentLoaded',
        handleDomContentLoaded, false);
      window.addEventListener('WebComponentsReady',
        handleWebComponentsReady, false);
    })();
  </script>


</body></html>
